מסמך אפיון מוצרי/UX: Catering OS // Module 2.3

שם הרכיב: ממשק הזמנות (Procurement UX Board - Table + Sidebar)

גרסה: 1.1.2 (Full - 1.1 + Must Fix + Minor Clarifications)

תאריך: 13/12/2025

בעלים: רועי (Product Owner)









0) מטרת המוצר





להפוך את תהליך ההזמנות של שי לתהליך פיקוח וקבלת החלטות: המערכת מייצרת טיוטות להזמנות ספקים, מציגה Preview מלא של הודעת וואטסאפ, ומאפשרת Commit באמצעות Copy בלבד. כל שינוי אחרי Copy מחזיר למצב Dirty ומחייב Copy מחדש.









1) דמות משתמש ומודל מנטלי







1.1 מי המשתמש





שי - שף פרפקציוניסט, עמוס, חשדן טכנולוגית. הכאב המרכזי הוא חוסר אמון ב”מחשבונים” ו”קופסאות שחורות”.







1.2 איך שי עובד בפועל





הוא עובד לפי ספק (דגים/בשר/לחמים).



הוא מזמין לפי יום אספקה: הודעת ספק אחת מחולקת לבלוקים לפי ימים (יום שני / רביעי / שישי וכו’).



לא מעניין אותו לראות “סה”כ שבוע” לדגים - מעניין אותו “מה נכנס בכל משלוח”.







1.3 מה שי חייב כדי לסמוך





God View - הכל פרוס מול העיניים, בלי Hover ובלי קפיצות בלתי צפויות.



Traceability - לכל מספר יש מקור שניתן לפתוח (שי רואה, הספק לא).



אין inference - שיוך ספק, המרות, שמות קנוניים - רק כששי עושה פעולה מפורשת.











2) עקרונות מוצר מחייבים







2.1 Zero Guessing





אין ברירות מחדל שמחליטות במקום שי (כולל: אין Default Delivery Day).



אין המרות יחידה אוטומטיות. אם יחידות שונות - הן נשארות נפרדות עד שי מוגדר כלל המרה מפורש.







2.2 טבלה = תצוגה בלבד, פעולה = Sidebar בלבד





אין עריכה בתאים/שורות בטבלה. כל שינוי דאטה נעשה דרך ה-Sidebar.

זה עקרון UX שמגן על אמון: “אני לא עורך אקסל, אני מקבל החלטות”.





2.3 Copy is Commit + Dirty





Copy הוא נקודת אמת (Commit) כי אין שליחה בפועל.



כל Copy מייצר Snapshot.



כל שינוי אחרי Copy הופך ל-Dirty ומחייב Copy מחדש.







2.4 Digital First + עברית RTL





המסך לא מיועד להדפסה; היעד הוא הודעות לוואטסאפ באמצעות Copy.



כל הממשק בעברית מלאה RTL (כולל מיקרו-קופי, מצבים, שגיאות).











3) סקופ V1







3.1 כן ב-V1





תצוגת God View רב-אירועים (ויזואל של “שבוע” מותר, אבל ניסוח והבנה: זה לא “סה”כ שבוע”).



טבלה + Sidebar.



Open Hierarchy בטבלה: Parent מסוכם, Child הם מקורות (↳ Event + Station + כמות מקורית).



Supplier Drafts לפי Supplier + Delivery Day.



Preview מלא להודעת וואטסאפ + Copy (Commit) + Snapshots + Dirty.



Review Mode לפריטים Unclassified עם Auto-Advance רק אחרי סגירת החלטות בסיס (ראה סעיף 7).



Templates ברמת ספק + Versioning מיידי (immutable), עריכה ב-V1 רק שי.







3.2 לא ב-V1 (Non-goals)





שליחה אוטומטית לספקים (WhatsApp/Email/SMS) - רק Copy.



Smart Split אוטומטי בין ספקים - לא.



מודול הכנות מלא (סטטוסים/משימות/אחראים) - רק רשימת צפייה.



מלאי/מחירים/חשבוניות/מחסן - מחוץ ל-V1.











4) אובייקטים ותצוגות







4.1 ItemSource מול פריט מסוכם





ItemSource: שורת מקור בהקשר Event + Station + כמות מקורית.



פריט מסוכם: איחוד לצורך תצוגה/טיוטה בלבד (לא שינוי המקור).







4.2 גבול סיכום





סיכום אוטומטי ברמת אירוע בלבד - לא מסכמים בין אירועים.
המשמעות UX: תצוגה יכולה להראות “רב-אירועים”, אבל חישובים אוטומטיים לא מערבבים אירועים.







4.3 יחידת הזמנה





יחידת ההזמנה היא Supplier + Delivery Day (Draft/Order).



לאותו ספק יכולות להיות כמה הזמנות בשבוע.











5) תכנון מסך: הטבלה (God View רב-אירועים)







5.1 ניתוח הבעיה ההתנהגותית





שי צריך לראות את כל התמונה ולזהות חורים במהירות, אבל לא להפוך למתפעל טבלאות. הוא חייב להבין “מה דורש טיפול”, להגיע לשם מהר, ולשמור על יציבות (המערכת לא מזיזה לו דברים).





5.2 פתרון עיצובי מוצע





טבלה כמסך God View.



Open Hierarchy:




Parent: פריט מסוכם בתוך אירוע.



Child: מקורות (↳ Event + Station + כמות מקורית).







כל פעולה דרך Sidebar.







5.3 Wireframe מילולי - מבנה טבלה (עודכן לפי Must Fix #1)







עמודות קבועות (ימין, RTL)





מצב (תגיות אפשריות בטבלה)







Unclassified



Prep (צפייה בלבד)



Buy (Raw/Ready)



חסר ספק (רק אם הפריט Buy ועדיין לא נבחר ספק)



נדרשת המרה (כאשר זה חוסם איחוד/עבודה על טיוטת ספק)





הבהרה קריטית:



אין “חסר יום אספקה” בטבלה. יום אספקה הוא ברמת Draft (Supplier + Day) בלבד, ומופיע רק ברשימת Drafts (סעיף 9).







שם פריט (קנוני/כפי שהוגדר)



ספק משויך (אם קיים)



Supplier Spec (אם רלוונטי, לקריאה בלבד בטבלה)



סה”כ (רק ל-Parent; ריק ל-Child)







עמודות אירועים (מרכז)





כל אירוע הוא עמודה.



בתא מוצג סה”כ הפריט באירוע הזה בלבד (כי גבול הסיכום הוא אירוע).







כללי אינטראקציה





לחיצה על Parent/Child לא עורכת כלום - רק בוחרת וממקדת את הסיידבר לישות המתאימה.



אין שינויי ערך דרך הטבלה.











6) Sidebar - מסגרת פעולה (המרכז של V1)







6.1 ניתוח הבעיה





הטבלה היא God View. הסיידבר הוא “שולחן העבודה”: סיווג, ספק, Spec, Traceability, טיוטות הזמנה, Preview+Copy, Template.





6.2 פתרון עיצובי + הערה מבנית





Sidebar עם מצבי עבודה מובחנים (לא “מסך אחד שעושה הכל”):



Review Mode - טיפול בפריטים Unclassified (רצף החלטות מהיר)



פריט - Item Detail (פעולות עומק)



הזמנה (Supplier + Day) - Draft/Order Detail (Preview/Copy/Dirty/Undo/Template)





הצדקה מבנית:



“הזמנה” היא אובייקט עצמאי עם Commit/Dirty/Undo/Template. אם מערבבים אותה בתוך “ספקים כללי” מאבדים עקיבות ומייצרים UX לא חד.











7) Review Mode - Unclassified (עודכן לפי Must Fix #3)







7.1 ניתוח הבעיה





Unclassified הוא צוואר בקבוק. בנוסף: כדי שפריט Buy יהיה “מוכן” הוא צריך גם Classification וגם Supplier. אחרת נשאר חור שמפיל אחר כך את תהליך הטיוטות.





7.2 פתרון עיצובי מוצע





מצב ייעודי בסיידבר: “טיפול בפריטים לא מסווגים”.



Auto-Advance אחרי החלטה - אבל רק אחרי סגירת החלטות בסיס:




Classification (Buy/Prep)



ואם Buy - גם Supplier







Prep לא מחייב Supplier כדי “להיסגר” ב-Review Mode (כי הוא לא נכנס להזמנות ספקים).







7.3 Wireframe מילולי





כותרת: “פריטים לא מסווגים ({N})”



גוף: כרטיס פריט אחד בכל פעם:




הקשר: Event + Station



שם פריט



CTA סיווג:




“Buy - חומר גלם”



“Buy - מוצר מוכן”



“Prep”













התנהגות:



אם נבחר Prep:




טוסט: “סווג כהכנה”



Auto-Advance לפריט הבא







אם נבחר Buy:




Step קצר חובה: “בחר ספק”



רק לאחר בחירת ספק:




טוסט: “סווג ל-Buy ושויך לספק”



Auto-Advance לפריט הבא







אם לא נבחר ספק:




הפריט נשאר “Buy + חסר ספק”



אין Auto-Advance (הכרטיס לא נסגר)



















8) Item Detail (Sidebar פריט)







8.1 ניתוח הבעיה





שי צריך לבצע החלטות עומק בלי “דלתות אחוריות” לעריכה לא עקבית: שינוי ספק, Spec, Traceability, המרות (בזמן עבודה על הזמנה), ופיצול בין ספקים - בצורה שתכבד את מודל Draft.





8.2 פתרון עיצובי - בלוקים





סטטוס והחלטות בסיס







Unclassified / Buy (Raw/Ready) / Prep



אם Buy וחסר ספק: תגית “חסר ספק”







שיוך ספק (מפורש, ללא inference)







בחירה/החלפה ידנית בלבד







Supplier Spec







Spec מוגדר כמאפיין שורה שמשפיע על איחוד והופעה ב-Preview







Traceability (Drill פנימי לשי בלבד)







פירוק לפי: Event + Station + כמות מקורית



אין פרטי מנה/טבח בשלב הזה







פיצול בין ספקים (ראה סעיף 14)











9) Supplier Drafts - עבודה לפי Draft (Supplier + Delivery Day)







9.1 ניתוח הבעיה





יום אספקה הוא חוק של הזמנה (Supplier + Day). אין ברירת מחדל. Copy חסום עד בחירת יום. לכן “חסר יום אספקה” הוא סטטוס של Draft, לא של פריט.





9.2 פתרון עיצובי מוצע





רשימת Drafts מסודרת לפי:



ספק -> ימים (ברירת מחדל, תואם מודל העבודה של שי)



תחת אותו ספק מופיע גם Draft חסר יום (אם קיים)







9.3 Wireframe מילולי - מבנה רשימת Drafts (כולל CTA)





כותרת: “טיוטות הזמנה”



קבוצות לפי ספק:



ספק A




יום ב’ 08.12 - [תגית מצב]



יום ד’ 10.12 - [תגית מצב]



חסר יום אספקה - [Missing Delivery Day] + CTA “בחר יום אספקה”







ספק B




…









סטטוסים לכל Draft (Minor Fix #5):



Missing Delivery Day (Copy חסום)



Draft (עוד לא הועתק)



Copied + זמן Copy אחרון



Dirty + זמן Copy אחרון





CTA לחסר יום:



“בחר יום אספקה”



בחירה מציגה רק Allowed Delivery Days של הספק.











10) מסך הזמנה בסיידבר - Preview, Copy, Dirty, Undo







10.1 Preview מלא (כמו שיועתק)





Preview מציג את הטקסט בפורמט ההודעה של הספק: פתיח/כותרת, בלוקים לפי יום, שורות פריטים, סגירה.



המטרה: שי רואה בדיוק מה הולך לצאת - אין הפתעות.







10.2 Copy is Commit (UI מפורט)





כפתור ראשי: “העתק הודעה”



בלחיצה:




מתבצע Commit



נשמר Snapshot של הטקסט המלא + מזהה גרסת טמפלט







UI אחרי Copy:




תגית: “Copied”



“העתקה אחרונה: HH:MM”











10.3 Dirty אחרי Copy







10.3.1 מה נחשב “שינוי רלוונטי” שמדליק Dirty (Minor B)



Dirty נדלק על:



שינוי כמות או יחידת מידה



שינוי ספק



שינוי יום אספקה



הוספה או הסרה של פריט מהטיוטה



שינוי Supplier Spec



שינוי Order Note



שינוי Template





UI:



תגית בולטת בראש ההזמנה: “Dirty - צריך להעתיק מחדש”



הכפתור משתנה ל: “העתק מחדש”



נשמר ומוצג: “העתקה אחרונה: HH:MM” (אם היה Copy בעבר)







10.4 Undo (מוגבל) + מיקרו-קופי





Undo הוא פעולה אחת אחורה, רק לפעולות שבוצעו בסיידבר (בהקשר הזמנה/טמפלט).



UI:




כפתור: “בטל פעולה אחרונה”



טקסט עזר קטן: “ביטול פעולה אחרונה בלבד”















11) Templates, Versioning, Order Note, Supplier Spec







11.1 Templates





Template ברמת ספק.



כל שינוי בטמפלט מייצר גרסה חדשה מיידית (immutable).



עריכה ב-V1 רק שי (Admin).
UX נדרש:



מסך הזמנה מציג: “גרסת טמפלט: X”



פעולה: “ערוך טמפלט” (יוצר גרסה חדשה בשמירה)







11.2 Order Note





Order Note הוא טקסט חופשי ברמת הזמנה (Supplier + Day).
UX:



שדה: “הערה להזמנה” (לדוגמה: “לארוז בנפרד”, “לא אחרי 09:00”)







11.3 Supplier Spec (הכרעה מפורשת - Minor A)





ב-V1, עריכת Supplier Spec תתבצע רק דרך Item Detail (Sidebar פריט).

מסך ההזמנה מציג Spec לקריאה בלבד.

מטרה: לשמור על “פעולה = Sidebar בלבד” בלי לפתוח דלת לעריכה חצי-טבלה/חצי-Preview.





11.4 אין עריכת שורות חופשית (חוזר ומוגדר חד)





שורות הפריטים נגזרות מהדאטה בלבד.



עריכת טקסט חופשית מותרת רק בטקסט הטמפלט (פתיח/סגירה/מבנה) וב-Order Note.



אין “עריכת שורה” בתוך Preview.











12) המרות (Conversions)







12.1 ניתוח הבעיה





שי לפעמים ממיר בראש (ליטר -> ק”ג). המערכת לא מנחשת. אבל אם ההמרה חסרה וזה חוסם איחוד/הבנה בזמן עבודה על טיוטת ספק, צריך Flow ממוקד שמאפשר לשי לקבוע כלל פעם אחת.





12.2 פתרון עיצובי מוצע - טריגר “נדרשת המרה”





אין סכימה בין יחידות שונות בלי המרה מוגדרת.



מתי מבקשים המרה: בזמן עבודה על הזמנה/טיוטה, אם יש פריט שחוסם איחוד/עבודה בגלל יחידה - מסמנים “נדרשת המרה” ומציעים פעולה להגדרה.





UX בפועל:



ליד הפריט מופיעה תגית: “נדרשת המרה”



לחיצה פותחת Flow קצר:




“1 [יחידת מקור] = [X] [יחידת יעד]”



כפתור: “שמור כלל”







אחרי שמירה:




הטיוטה מתעדכנת



ה-Preview מציג תוצאה, אבל נשמרת שקיפות: מקור + כלל









כלל חשוב:



המרה היא יחס נקי.



“אקסטרה להזמנה” הוא שינוי כמות נפרד, לא חלק מכלל ההמרה.











13) Cutoff (דדליין ספק) - אזהרה, לא חסימה





אם עבר cutoff: מציגים אזהרה ברורה, אבל לא חוסמים Copy.



החיווי צריך להופיע מוקדם (בכניסה לעריכת ההזמנה), כדי שלא תהיה הפתעה ברגע Copy.











14) פיצול בין ספקים (עודכן לפי Must Fix #2)







14.1 הבעיה





אי אפשר לפצל ספקים בתוך הזמנה אחת, כי הזמנה היא Supplier + Day.





14.2 פתרון UX נכון (V1)





פיצול בין ספקים נעשה ברמת Item Detail:



פעולה ב-Item Detail: “שכפל פריט”



לאחר שכפול:




נוצר פריט חדש זהה (שכפול ItemSource/שורת מקור רלוונטית) עם כמות ניתנת לעריכה



לפריט המשוכפל ניתן לשייך ספק אחר (פעולה מפורשת)







תוצאה:




הפריט המשוכפל מופיע אוטומטית ב-Draft של הספק החדש (כי שיוך ספק קובע לאיזה Draft הוא שייך)









השלכה UX:



במסך הזמנה לא מופיע “ספק לשורה” (אסור).



הפיצול מורגש כשינוי שיוך ספק בפריט, לא כעריכה בתוך ההזמנה.











15) מדדי הצלחה (Success Criteria) (שוחזר במלואו)





אמון: שי מפסיק לחשב ידנית בצד וסומך על המספרים כי הוא יכול לפתוח מקור לכל שורה (Traceability).



עקיבות: Copy/Snapshot/Dirty מאפשרים עבודה בטוחה בלי פחד “מה באמת יצא”.



יעילות: ירידה בזמן ההכנה והפחתת טעויות (בעיקר יום/ספק/Spec).



שקיפות: אפס “קסמים” - כל החלטה קריטית נעשית מפורשות (ספק/יום/המרה).











16) נקודות פתוחות להכרעה (עודכן לפי CTO)





נסגר (לא פתוח):



רמת פירוק מינימלית ב-Traceability ב-V1:







Event + Station + כמות מקורית. אין פרטי מנה/טבח בשלב הזה.







סדר רשימת Drafts:







ברירת מחדל: ספק -> ימים. אפשר להשאיר “ימים -> ספק” כאפשרות עתידית, לא פתוח ל-V1.





פתוח (UX, לא חוסם פיתוח אם מגדירים מינימום):

3) מיקום Review Mode בהיררכיית הסיידבר:



מינימום נדרש:


כפתור ברור “טיפול בלא מסווגים”



או פתיחה אוטומטית אם N>0 בעת כניסה לממשק



